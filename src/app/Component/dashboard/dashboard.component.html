<div class="container-fluid">
  <div
    class="row d-flex justify-content-between mt-4 ms-3"
    style="width: 100%; height: 100vh"
  >
    <div class="col-9 mt-4">
      <div
        class="row d-flex me-3 gap-4"
        style="height: 15%; color: rgb(121, 121, 121)"
      >
        <div
          class="card1 col border border-2 shadow d-flex justify-content-start align-items-top pt-3"
        >
          <div class="col-9">
            <div class="row">
              <h6>Foods & Drinks</h6>
            </div>

            <div class="row mt-4">
              <h4 style="font-size: 35px; color: green">
                <i class="bi bi-currency-rupee"></i> {{ FoodDrinksAmount }}
              </h4>
            </div>
          </div>

          <div class="col-3">
            <img
              src="https://static.vecteezy.com/system/resources/thumbnails/007/973/112/small/hamburger-soft-drink-and-french-fries-fast-food-icon-sign-outline-flat-design-on-white-background-free-vector.jpg"
              style="width: 100px; height: 100px; opacity: 0.2"
            />
          </div>
        </div>
        <div
          class="card1 col border border-2 shadow d-flex justify-content-start align-items-top pt-3"
        >
          <div class="col-8">
            <div class="row">
              <h6>Bills & Payments</h6>
            </div>
            <div class="row mt-4">
              <h4 style="font-size: 35px; color: green">
                <i class="bi bi-currency-rupee"></i>{{ Bills }}
              </h4>
            </div>
          </div>
          <div class="col-3">
            <img
              src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQFvk8cPZCKUFQOjppwHBq9eH8cV92iyHRUeg&s"
              style="width: 100px; height: 100px; opacity: 0.2"
            />
          </div>
        </div>
        <div
          class="card1 col border border-2 shadow d-flex justify-content-start align-items-top pt-3"
        >
          <div class="col-8">
            <div class="row">
              <h6>Entertainments</h6>
            </div>
            <div class="row mt-4">
              <h4 style="font-size: 35px; color: green">
                <i class="bi bi-currency-rupee"></i>{{ EntertainmentAmount }}
              </h4>
            </div>
          </div>
          <div class="col-3">
            <img
              src="https://cdn-icons-png.flaticon.com/512/2991/2991552.png"
              style="width: 100px; height: 100px; opacity: 0.2"
            />
          </div>
        </div>
      </div>
      <div class="row border border-2 mt-3 shadow me-3" style="height: 60%">
        <div style="max-width: 500px; margin: auto">
          <h3>ðŸ“Š Expense by Category</h3>
          <canvas
            baseChart
            [data]="{
              labels: pieChartLabels,
              datasets: [{ data: pieChartData }]
            }"
            [type]="pieChartType"
            [legend]="true"
          >
          </canvas>
        </div>
      </div>
    </div>
    <div
      class="col border shadow mb-4 mt-4 border-2 text-center py-3"
      style="height: 90vh"
    >
      <div class="head" style="height: 4%">
        <h5 class="mt-3" style="color: rgb(78, 78, 78)">
          <i class="bi bi-calendar3"></i> &nbsp;Recent Transaction
        </h5>
      </div>
      <hr />
      <table class="table table-borderless align-middle" style="height: 66vh; max-height: 66vh; overflow-y: scroll;">
        <tbody>
          <tr *ngFor="let item of Expense; let i = index">
            <td>{{ i + 1 }}</td>
            <td>
              <i
                class="bi"
                [ngClass]="{
                  'bi-arrow-up text-danger': item.Type === 'Debit',
                  'bi-arrow-down text-success': item.Type === 'Credit'
                }"
                style="font-size: 25px; font-weight: 600"
              ></i>
            </td>
            <td>
              <div class="fw-bold">{{ item.Category }}</div>
              <div style="font-size: 11px; color: rgb(102, 102, 102)">
                {{ item.DateTime }}
              </div>
            </td>
            <td>{{ item.Type }}</td>
            <td
              [ngClass]="{
                'text-danger': item.Type === 'Debit',
                'text-success': item.Type === 'Credit'
              }"
              style="font-size: 15px; font-weight: 500"
            >
              <i class="bi bi-currency-rupee"></i>{{ item.Amount }}
            </td>
          </tr>
        </tbody>
      </table>

      <hr />
      <div class="button pt-3" style="height: 8%">
        <h6 style="color: rgb(59, 59, 59)">
          <i class="bi bi-wallet2"></i> &nbsp;Missing Transaction ?&nbsp; &nbsp;
          <button type="button" class="btn btn-primary" (click)="Open()">
            ADD NEW
          </button>
        </h6>
      </div>
    </div>
  </div>
</div>
<div
  class="container-fluid d-flex flex-column justify-content-center align-items-center col-9"
  *ngIf="Model"
  style="background-color: white; height: 100%; position: absolute; top: 0"
>
  <div
    class="container border border-2 rounded-3 p-5 shadow-lg d-flex flex-column gap-4"
  >
    <div class="head d-flex justify-content-center mb-3">
      <h4>Add Transaction</h4>
    </div>
    <div class="body">
      <form [formGroup]="User">
        <div class="row">
          <div class="form-floating mb-3">
            <input
              type="number"
              class="form-control"
              id="floatingInput"
              placeholder="name@example.com"
              formControlName="Amount"
            />
            <label for="floatingInput"> &nbsp;Amount:</label>
          </div>
        </div>
        <div class="row">
          <div class="form-floating mb-3">
            <select
              class="form-select"
              aria-label="Default select example"
              formControlName="Type"
            >
              <option selected>Select the Transaction Type</option>
              <option value="Debit">Debit</option>
              <option value="Credit">Credit</option>
            </select>
            <label for="floatingInput"> &nbsp; Type:</label>
          </div>
        </div>

        <div class="row">
          <div class="form-floating mb-3">
            <input
              type="text"
              class="form-control"
              id="floatingInput"
              placeholder="name@example.com"
              formControlName="Description"
            />
            <label for="floatingInput">&nbsp; Description:</label>
          </div>
        </div>
        <div class="row">
          <div class="form-floating mb-3">
            <select
              class="form-select"
              aria-label="Default select example"
              formControlName="Category"
            >
              <option selected>Select the Transaction Type</option>
              <option value="Income">Income</option>
              <option value="House Hold">House Hold</option>
              <option value="Food & Dinning">Food & Dinning</option>
              <option value="Transportation">Transportation</option>
              <option value="Health & Insurence">Health & Insurence</option>
              <option value="Education">Education</option>
              <option value="Entertainment">Entertainment</option>
              <option value="Travel">Travel</option>
              <option value=" Bills & Subscriptions">
                Bills & Subscriptions
              </option>
              <option value=" Financial & Investments">
                Financial & Investments
              </option>
            </select>
            <label for="floatingInput">&nbsp; Category:</label>
          </div>
        </div>
        <div class="row">
          <div class="input-group mb-3">
            <span class="input-group-text">&nbsp; Date & Time:</span>
            <input
              type="datetime-local"
              class="form-control"
              formControlName="DateTime"
            />
          </div>
        </div>
      </form>
    </div>
    <div class="footer d-flex justify-content-end">
      <button class="btn btn-danger me-2" (click)="Close()">close</button>
      <button class="btn btn-primary" (click)="onsubmit()">Submit</button>
    </div>
  </div>
</div>
